<!DOCTYPE HTML>
<html>
    <head>
        <script>
            window.onload = function() {
                var dataPoints1 = [];
                var dataPoints2 = [];
                var dataPoints3 = [];
                var dataPoints4 = [];

                var use4 = %USE_4%;

                var options =  {
	                animationEnabled: true,
	                theme: "light2",
	                title: {
		                text: "%TITLE%"
	                },
	                axisX: {
		                title: "Value",
		                titleFontSize: 24,
		                includeZero: false
	                },
	                axisY: {
		                title: "Occurances",
		                titleFontSize: 24,
		                includeZero: false
                    },
                    data: [{
                        type: "spline",
                        dataPoints: dataPoints1,
                        lineColor: "red"
                    }, {
                        type: "spline",
                        dataPoints: dataPoints2,
                        lineColor: "green"
                    }, {
                        type: "spline",
                        dataPoints: dataPoints3,
                        lineColor: "blue"
                    }, {
                        type: "spline",
                        dataPoints: dataPoints4,
                        lineColor: "black"
                    }]
                };

                function addData1(data) {
	                for (var i = 0; i < data.length; i++) {
		                dataPoints1.push({
                            x: data[i].colour_value,
                            y: data[i].colour_occurance
		                });
	                }
                }
                function addData2(data) {
                    for (var i = 0; i < data.length; i++) {
                        dataPoints2.push({
                            x: data[i].colour_value,
                            y: data[i].colour_occurance
                        });
                    }
                }
                function addData3(data) {
                    for (var i = 0; i < data.length; i++) {
                        dataPoints3.push({
                            x: data[i].colour_value,
                            y: data[i].colour_occurance
                        });
                    }
                    if (!use4) $("#chartContainer").CanvasJSChart(options);
                }
                function addData4(data) {
                    for (var i = 0; i < data.length; i++) {
                        dataPoints4.push({
                            x: data[i].colour_value,
                            y: data[i].colour_occurance
                        });
                    }
                    $("#chartContainer").CanvasJSChart(options);
                }
                $.getJSON("%DATA_URL1%", addData1);
                $.getJSON("%DATA_URL2%", addData2);
                $.getJSON("%DATA_URL3%", addData3);
                if (use4) $.getJSON("%DATA_URL4%", addData4);
            }
        </script>
        </head>
    <body>
        <div id="chartContainer" style="height: 370px; width: 100%;"></div>
        <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
        <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
    </body>
</html>